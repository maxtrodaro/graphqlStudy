let readFile,writeFile,resolve;_78d‍.x([["default",()=>_78d‍.o]]);_78d‍.w("fs",[["readFile",["readFile"],function(v){readFile=v}],["writeFile",["writeFile"],function(v){writeFile=v}]]);_78d‍.w("path",[["resolve",["resolve"],function(v){resolve=v}]]);


function createRepository(name) {
  const path = resolve(__dirname, `../../data/${name}.json`);

  return {
    read: () =>
      new Promise((resolve, reject) => {
        readFile(path, (error, data) => {
          if (error) {
            reject(error);
            return;
          }
          resolve(JSON.parse(data));
        });
      }),

    write: (data) =>
      new Promise(() => {
        writeFile(path, JSON.stringify(data), (error) => {
          if (error) {
            reject(error);
            return;
          }
          resolve();
        });
      }),
  };
}

_78d‍.d(createRepository);
